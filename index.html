<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
  </script>

  <script>
    window.onload = OnResize;

    function OnResize() {
      document.getElementById('bg').style.backgroundImage =
        `url("https://picsum.photos/${window.innerWidth}/${window.innerHeight}/?blur=2")`;
      RegisterEventListeners();
    }

    function RegisterEventListeners() {
      document.getElementById("txtSearch").addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
          $.ajax({
            type: "POST",
            url: "https://www.abibliadigital.com.br/api/verses/search",
            data: `{"version": "nvi", "search": "${document.getElementById("txtSearch").value.replace(/(\r\n|\n|\r)/gm, "")}" }`,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (result) {
              alert(result.d);
              console.log(result);

              if (result.occurrence <= 0)
              {

              }
            }
          });

        }
      });
    }

    window.OnResize = OnResize;
  </script>
  <style>
    .front {
      display: block;
      z-index: 5;
      position: relative;
    }

    .container {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100vw;
      right: 0;
      max-width: 100vw;
      background-color: rgba(41, 41, 41, 0.445);
      backdrop-filter: blur(5px);
    }
  </style>

  <title>Ask the Bible</title>
</head>

<body>
  <main>
    <div id="bg" style="display: block; z-index: 1; width: 100%; height: 100vh;">
      <div class="front">
        <h2 style="padding-left: 5%; padding-top: 5%;">Hello, what do you need guidance for today?</h2>

        <textarea
          style="resize: none; border-radius: 20px; height: 30%; width:80%; margin-top: 10px; margin-left: 10%; font-size: 25px;"
          rows="5" id="txtSearch" placeholder="Enter your question here."></textarea>

        <div id="response">
          
        </div>
      </div>
    </div>
  </main>

  <div class="container">
    <span class="text-white">This project made possible by <a href="https://bibleapi.co/en">Albiblia
        Digital</a>.</span>
  </div>
</body>

</html>